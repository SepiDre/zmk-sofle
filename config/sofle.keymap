 /*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 * NEO 2
 */


#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/rgb.h>
#include <dt-bindings/zmk/ext_power.h>
#include "define_keys.dtsi"
#include "macro.keymap"
#include "taps.keymap"

#define WIN 0
#define GME 1
#define NUM 2
#define SYM 3
#define ADJ 4
#define WEA 5 


/ {

   // Activate ADJUST layer by pressing raise and lower
    conditional_layers {
        compatible = "zmk,conditional-layers";
        adjust_layer {
            if-layers = <SYM NUM>;
            then-layer = <ADJ>;
        };
    };

    keymap {
        compatible = "zmk,keymap";
        win_layer {
            label = "Windows";
            bindings = <
// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
         &kp DE_CIRC            &kp DE_1              &kp DE_2              &kp DE_3              &kp DE_4              &kp DE_5                                                            &kp DE_6              &kp DE_7              &kp DE_8              &kp DE_9              &kp DE_0             &kp DE_ACUT
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
      &bhm LG(DE_L) ESC    &bhm LG(DE_E) DE_X     &bhm LG(DE_V) DE_V        &kp DE_L           &bhm LC(DE_C) DE_C       &kp DE_W                                                      &bhm LC(LA(DEL)) DE_K       &kp DE_H              &kp DE_G              &kp DE_F              &kp DE_Q             &kp DE_SS
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
        &mt LSHIFT TAB          &kp DE_U              &kp DE_I              &kp DE_A             &kp DE_E               &kp DE_O                                                            &kp DE_S              &kp DE_N              &kp DE_R              &kp DE_T              &kp DE_D             &kp DE_Y
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤
           &kp LCTRL           &kp DE_UE              &kp DE_OE             &kp DE_AE             &kp DE_P              &kp DE_Z              &kp C_MUTE             &kp C_SLEEP            &kp DE_B              &kp DE_M             &kp DE_COMM           &kp DE_DOT             &kp DE_J            &kp DE_MINS
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                      &kp LGUI              &rgb_sym              &kp LALT              &kp SPACE             &rgb_num                &rgb_sym            &mt RSHIFT RET          &kp LALT              &rgb_num             rgb_white
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_kp C_VOL_UP C_VOL_DN &inc_dec_kp PG_UP PG_DN>;
        };
// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        gme_layer {
            label = "Gaming";
            bindings = <
// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
           &kp ESC              &kp DE_1              &kp DE_2              &kp DE_3               &kp DE_4             &kp DE_5                                                            &kp DE_6              &kp DE_7              &kp DE_8             &kp DE_9              &kp DE_0               &kp BSPC
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
        &kp LA(DE_X)            &kp DE_X              &kp DE_V              &kp DE_L               &kp DE_C             &kp DE_W                                                            &kp DE_K              &kp DE_H              &kp DE_G             &kp DE_F              &kp DE_Q              &kp DE_CIRC
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
         &kp LSHIFT             &kp DE_U              &kp DE_I              &kp DE_A               &kp DE_E             &kp DE_O                                                            &kp DE_S              &kp DE_N              &kp DE_R             &kp DE_T              &kp DE_D               &kp DE_Y
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
          &kp LCTRL            &kp DE_COMM           &kp DE_DOT           &kp DE_COLN              &kp DE_P             &kp DE_Z              &kp DE_R                &kp DE_F              &kp DE_B              &kp DE_M             &kp DE_COMM          &kp DE_DOT             &kp DE_J              &kp DE_MINS
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                    &kp LA(DE_U)          &kp LA(DE_V)             &kp TAB              &kp SPACE             &rgb_wea                &rgb_sym               &kp RET              &kp LALT              &rgb_num            rgb_purple
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_kp DE_MINS DE_PLUS &inc_dec_kp PG_UP PG_DN>;
        };
// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        num_layer {
            label = "Number";
            bindings = <

// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
            XXXXXX               XXXXXX                XXXXXX                XXXXXX                XXXXXX                XXXXXX                                                            &kp LS(TAB)         &kp KP_MULTIPLY        &kp KP_DIVIDE           XXXXXX                 XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
            ______             &kp PAGE_UP            &kp BSPC               &kp UP                &kp DEL            &kp PAGE_DOWN                                                         &kp DE_7              &kp DE_8              &kp DE_9            &kp KP_MINS              XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
           &kp RET               &kp HOME             &kp LEFT              &kp DOWN              &kp RIGHT             &kp END                                                             &kp DE_4              &kp DE_5              &kp DE_6            &kp KP_PLUS              XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
        &mt LALT LC(S)           XXXXXX               &kp INS                XXXXXX                XXXXXX              &kp LC(DE_Z)             ______                 ______               &kp DE_1              &kp DE_2              &kp DE_3             &kp KP_DOT              XXXXXX                XXXXXX
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                       ______                ______                ______                ______                 ______                 ______                ______               &kp DE_0             &kp KP_COMM             XXXXXX
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_kp C_VOL_UP C_VOL_DN &inc_dec_kp PG_UP PG_DN>;
        };                                                              
// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        sym_layer {
            label = "Symbole";
            bindings = <
// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
           &kp F1                &kp F2                &kp F3                &kp F4                &kp F5                &kp F6                                                              &kp F7                &kp F8               &kp F9                &kp F10               &kp F11               &kp F12
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
           ______              &kp DE_AT             &kp DE_UNDS           &kp DE_LBRC            &kp DE_RBRC          &kp DE_CIRC                                                         &kp DE_EXLM           &kp DE_LABK           &kp DE_RABK           &kp DE_EQL            &kp DE_AMPR           &kp DE_EURO
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
           ______             &kp DE_BSLS            &kp DE_SLSH           &kp DE_LBRC            &kp DE_RBRC          &kp DE_ASTR                                                         &kp DE_QUES           &kp DE_LPRN           &kp DE_RPRN           &kp DE_MINS           &kp DE_COLN           &kp DE_SECT
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
           ______             &kp DE_HASH            &kp DE_DLR            &kp DE_PIPE            &kp DE_TILD          &kp DE_GRV                                                          &kp DE_PLUS           &kp DE_PERC           &kp DE_DQUO           &kp DE_QUOT           &kp DE_SCLN            &tog GME
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                        ______                ______               ______                ______                ______                  ______                 ______           ______           ______           ______
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_cp C_BRI_UP C_BRI_DN &inc_dec_kp PG_UP PG_DN>;
        };
// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        adj_layer {
            label = "Adjust";
            bindings = <
// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
         &bt BT_CLR           &bt BT_SEL 0           &bt BT_SEL 1          &bt BT_SEL 2          &bt BT_SEL 3          &bt BT_SEL 4                                                          &reset                 XXXXXX          &ext_power EP_ON       &ext_power EP_OFF          XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
       &rgb_ug RGB_BRI       &rgb_ug RGB_HUI       &rgb_ug RGB_SAI            XXXXXX               XXXXXX                XXXXXX                                                               XXXXXX                XXXXXX                XXXXXX               XXXXXX                 XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
       &rgb_ug RGB_BRD       &rgb_ug RGB_HUD       &rgb_ug RGB_SAD            XXXXXX               XXXXXX                XXXXXX                                                               XXXXXX                XXXXXX                XXXXXX               XXXXXX                 XXXXXX                XXXXXX
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
           &reset                XXXXXX                XXXXXX                 XXXXXX               XXXXXX                XXXXXX            &rgb_ug RGB_EFF        &ext_power EP_TOG           XXXXXX                XXXXXX                XXXXXX               XXXXXX                 XXXXXX                &reset
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                  &ext_power EP_TOG           XXXXXX           &rgb_ug RGB_TOG           XXXXXX                XXXXXX                  XXXXXX                 XXXXXX                XXXXXX                XXXXXX               XXXXXX
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_kp C_VOL_UP C_VOL_DN &inc_dec_kp PG_UP PG_DN>;
        };
// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        wea_layer {
            label = "Weapon";
            bindings = <
// ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮                                             ╭─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────╮
           &kp F1                &kp F2               &kp F3                 &kp F4                &kp F5               &kp F6                                                                &kp F7               &kp F8                &kp F9                &kp F10              &kp F11               &kp F12
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
         &kp LA(DE_K)            &kp DE_K             &kp DE_H               &kp DE_UP             &kp DE_S              &kp DE_R                                                             ______                ______                ______                ______                ______               ______
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤                                             ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
         &kp LA(DE_Q)            &kp DE_Q             &kp LEFT               &kp DOWN              &kp RIGHT             &kp DE_T                                                             ______                ______                ______                ______                ______               ______
// ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────╮ ╭─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤
         &kp LA(DE_B)            &kp DE_B             &kp DE_M               &kp DE_N              &kp DE_Y              &kp DE_J               ______                  ______                ______                ______                ______                ______                ______               &tog GME
// ╰─────────────────────┴─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┤─────────────────────┤ ├─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┼─────────────────────┴─────────────────────╯
                                                    &kp LA(DE_M)           &kp LA(DE_N)             ______                 ______               ______                  ______                ______                ______                ______                ______
//                                             ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯ ╰─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────╯
            >;
            sensor-bindings = <&inc_dec_kp LA(DE_S) LA(DE_R) &inc_dec_kp PG_UP PG_DN>;
        };
     };
};